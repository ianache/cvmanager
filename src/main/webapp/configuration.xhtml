<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:tr="http://myfaces.apache.org/trinidad"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:body>    
        <ui:composition template="/WEB-INF/templates/default.xhtml">
            <ui:define name="content">
                <h:form>        
                    <tr:panelFormLayout labelAlignment="start">
                        <tr:inputText label="eMail:" 
                                      value="${userPreferencesBean.email}" 
                                      id="email"/>
                        <tr:selectOneChoice id="defLanguage" labelAndAccessKey="L&amp;anguage:"
                                            value="#{userPreferencesBean.defaultLanguage}" 
                                            simple="false"  >       
                            <tr:selectItem label="EspaÃ±ol" value="es"/>
                            <tr:selectItem label="English" value="en"/>
                            <!--f:selectItems itemLabel="#{lang.code}" 
                                           itemValue="#{lang.name}" 
                                           value="#{userPreferencesBean.languages}" 
                                           var="lang"/-->
                        </tr:selectOneChoice>
                        <f:facet name="footer">
                            <tr:panelButtonBar>
                                <h:commandButton action="${userPreferencesBean.save}"/>                       
                            </tr:panelButtonBar> 
                        </f:facet>
                    </tr:panelFormLayout>

                    <tr:panelFormLayout>
                        <h:outputLabel value="My Events" for="events" />
                        <tr:table value="#{userPreferencesBean.events}" var="event"
                                  horizontalGridVisible="true"
                                  verticalGridVisible="true"
                                  emptyText="No data available" rows="6" id="events">
                            <tr:column>
                                <f:facet name="header">
                                    <tr:outputText value="Id"/>
                                </f:facet>
                                <tr:outputText value="#{event.id}"/>
                            </tr:column>
                            <tr:column>
                                <f:facet name="header">
                                    <tr:outputText value="From"/>
                                </f:facet>
                                <tr:outputText value="#{event.fromDate}"/>
                            </tr:column>
                            <tr:column>
                                <f:facet name="header">
                                    <tr:outputText value="Thru"/>
                                </f:facet>
                                <tr:outputText value="#{event.thruDate}"/>
                            </tr:column>
                            <tr:column>
                                <f:facet name="header">
                                    <tr:outputText value="Title"/>
                                </f:facet>
                                <tr:outputText value="#{event.title}"/>
                            </tr:column>
                        </tr:table>

                        <f:facet name="footer">
                            <tr:commandButton text="New Personal Event"
                                              partialSubmit="true"
                                              useWindow="false"
                                              action="dialog:newPersonalEvent"/>
                        </f:facet>
                    </tr:panelFormLayout>
                </h:form>
            </ui:define>
        </ui:composition>
    </h:body>
</html>